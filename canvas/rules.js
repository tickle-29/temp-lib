"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LeftRules=exports.TopRules=void 0;const react_1=__importDefault(require("react")),math_1=require("../utils/math"),unit_1=require("../utils/unit"),mobx_react_lite_1=require("mobx-react-lite"),realMetricsSteps=[.1,.2,.5,1,2,5,10,20,25,50,100,200,500,1e3,2e3,5e3,1e4],MIN_SECTION_WIDTH=30,findSplitSize=e=>realMetricsSteps.find((t=>e(t)>30))||1e4;function LeftRules(){return react_1.default.createElement("div",null,react_1.default.createElement("h1",null,"Top rules"))}exports.TopRules=(0,mobx_react_lite_1.observer)((({xPadding:e,yPadding:t,store:i,width:r,height:l})=>{const a=react_1.default.useRef(null),o=i.activePage,s=i.bleedVisible?o.bleed:0,n=o.computedWidth*i.scale,d=(p=e=>(0,unit_1.unitToPx)({unitVal:e,dpi:i.dpi,unit:i.unit})*i.scale,realMetricsSteps.find((e=>p(e)>30))||1e4);var p;const u=(0,unit_1.unitToPx)({unitVal:d,dpi:i.dpi,unit:i.unit})*i.scale,c=Math.round(n/u),f=Math.round(n/u),x=(0,math_1.getTotalClientRect)(i.selectedElements);return react_1.default.createElement("div",{style:{position:"absolute",top:0,left:0,minWidth:"100%",minHeight:"100%",pointerEvents:"none"},ref:a},react_1.default.createElement("div",{style:{width:r+"px",height:"14px",position:"sticky",fontSize:"8px",lineHeight:"14px",top:"0px",left:"0px",color:"grey",borderBottom:"1px solid grey",backgroundColor:"#e8e8e8"}},[...Array(c)].map(((t,r)=>react_1.default.createElement("div",{key:r,style:{position:"absolute",left:e+s*i.scale+r*u+"px",borderLeft:"1px solid grey",paddingLeft:"2px",width:u+"px"}},Math.round(d*r)))),!!i.selectedElements.length&&react_1.default.createElement("div",{style:{position:"absolute",left:e+s*i.scale+x.x*i.scale+"px",height:"14px",width:x.width*i.scale,backgroundColor:"rgba(0,0,0,0.15)"}})),i.pages.map(((e,r)=>{var a;return react_1.default.createElement("div",{key:e.id,style:{left:"0px",width:"14px",height:l-14+"px",position:"sticky",fontSize:"8px",lineHeight:"14px",color:"grey",borderRight:"1px solid grey",backgroundColor:"#e8e8e8",transform:"translateY(-14px)"}},[...Array(f)].map(((e,r)=>react_1.default.createElement("div",{key:r,style:{position:"absolute",left:"14px",top:t+s*i.scale+r*u+"px",borderLeft:"1px solid grey",paddingLeft:"2px",transform:"rotate(90deg)",transformOrigin:"left top",width:u+"px"}},Math.round(d*r)))),(null===(a=i.selectedElements[0])||void 0===a?void 0:a.page)===e&&react_1.default.createElement("div",{style:{position:"absolute",top:t+s*i.scale+x.y*i.scale+"px",width:"14px",height:x.height*i.scale,backgroundColor:"rgba(0,0,0,0.15)"}}))})))})),exports.LeftRules=LeftRules;