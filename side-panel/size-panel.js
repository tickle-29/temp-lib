"use strict";var __rest=this&&this.__rest||function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]])}return i},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SizePanel=exports.DEFAULT_SIZES=void 0;const react_1=__importDefault(require("react")),mobx_react_lite_1=require("mobx-react-lite"),core_1=require("@blueprintjs/core"),popover2_1=require("@blueprintjs/popover2"),l10n_1=require("../utils/l10n"),AiOutlineFacebook_1=__importDefault(require("@meronex/icons/ai/AiOutlineFacebook")),AiOutlineInstagram_1=__importDefault(require("@meronex/icons/ai/AiOutlineInstagram")),AiOutlineYoutube_1=__importDefault(require("@meronex/icons/ai/AiOutlineYoutube")),AiOutlineVideoCamera_1=__importDefault(require("@meronex/icons/ai/AiOutlineVideoCamera")),unit_1=require("../utils/unit");exports.DEFAULT_SIZES=[["Instagram Post",1080,1080,react_1.default.createElement(AiOutlineInstagram_1.default,null)],["Instagram Story",1080,1920,react_1.default.createElement(AiOutlineInstagram_1.default,null)],["Instagram Ad",1080,1080,react_1.default.createElement(AiOutlineInstagram_1.default,null)],["Facebook Post",940,788,react_1.default.createElement(AiOutlineFacebook_1.default,null)],["Facebook Cover",851,315,react_1.default.createElement(AiOutlineFacebook_1.default,null)],["Facebook Ad",1200,628,react_1.default.createElement(AiOutlineFacebook_1.default,null)],["Youtube Thumbnail",1280,720,react_1.default.createElement(AiOutlineYoutube_1.default,null)],["Youtube Channel",2560,1440,react_1.default.createElement(AiOutlineYoutube_1.default,null)],["Full HD",1920,1080,react_1.default.createElement(AiOutlineVideoCamera_1.default,null)]];const minSize=10,NumericInputDelayed=e=>{var{value:t,onChange:i}=e,a=__rest(e,["value","onChange"]);const l=react_1.default.useRef(),[n,u]=react_1.default.useState(t),r=react_1.default.useRef(t);r.current=n;const o=()=>{clearTimeout(l.current),i(Math.max(10,r.current))};react_1.default.useEffect((()=>{u(t)}),[t]);return react_1.default.createElement(core_1.NumericInput,Object.assign({},a,{value:n,onValueChange:e=>{u(e),clearTimeout(l.current),l.current=window.setTimeout(o,500)},onBlur:o}))};exports.SizePanel=(0,mobx_react_lite_1.observer)((({store:e})=>{var t,i;const[a,l]=react_1.default.useState(!0);return react_1.default.createElement("div",{style:{height:"100%",overflow:"auto",paddingRight:"3px"}},react_1.default.createElement("div",{style:{paddingBottom:"15px"}},react_1.default.createElement(core_1.Switch,{checked:a,onChange:e=>{l(e.target.checked)},alignIndicator:core_1.Alignment.RIGHT,style:{marginTop:"8px",marginBottom:"25px"}},(0,l10n_1.t)("sidePanel.useMagicResize")," ",react_1.default.createElement(popover2_1.Tooltip2,{content:(0,l10n_1.t)("sidePanel.magicResizeDescription"),position:core_1.Position.BOTTOM},react_1.default.createElement(core_1.Icon,{icon:"help"}))),react_1.default.createElement("div",{style:{width:"50%",display:"inline-block"}},(0,l10n_1.t)("sidePanel.width")," (",e.unit,")"),react_1.default.createElement("div",{style:{width:"50%",display:"inline-block"}},react_1.default.createElement(NumericInputDelayed,{fill:!0,value:(0,unit_1.pxToUnitRounded)({px:(null===(t=e.activePage)||void 0===t?void 0:t.computedWidth)||e.width,unit:e.unit,dpi:e.dpi}),onChange:t=>{var i,l,n;t||(t=10),e.setSize((0,unit_1.unitToPx)({unitVal:t,dpi:e.dpi,unit:e.unit}),(null===(i=e.activePage)||void 0===i?void 0:i.computedHeight)||e.height,a),"auto"!==(null===(l=e.activePage)||void 0===l?void 0:l.width)&&(null===(n=e.activePage)||void 0===n||n.set({width:(0,unit_1.unitToPx)({unitVal:t,dpi:e.dpi,unit:e.unit})}))},min:10,max:1e4,selectAllOnFocus:!0,minorStepSize:.01}))),react_1.default.createElement("div",{style:{paddingBottom:"15px"}},react_1.default.createElement("div",{style:{width:"50%",display:"inline-block"}},(0,l10n_1.t)("sidePanel.height")," (",e.unit,")"),react_1.default.createElement("div",{style:{width:"50%",display:"inline-block"}},react_1.default.createElement(NumericInputDelayed,{fill:!0,value:(0,unit_1.pxToUnitRounded)({px:(null===(i=e.activePage)||void 0===i?void 0:i.computedHeight)||e.height,dpi:e.dpi,unit:e.unit}),onChange:t=>{var i,l,n;t||(t=10),e.setSize((null===(i=e.activePage)||void 0===i?void 0:i.computedWidth)||e.width,(0,unit_1.unitToPx)({unitVal:t,dpi:e.dpi,unit:e.unit}),a),"auto"!==(null===(l=e.activePage)||void 0===l?void 0:l.height)&&(null===(n=e.activePage)||void 0===n||n.set({height:(0,unit_1.unitToPx)({unitVal:t,dpi:e.dpi,unit:e.unit})}))},min:10,max:1e4,selectAllOnFocus:!0,minorStepSize:.01}))),exports.DEFAULT_SIZES.map((([t,i,l,n])=>react_1.default.createElement(core_1.Button,{key:t,style:{width:"100%",paddingTop:"10px",paddingBottom:"10px",fontSize:"16px"},minimal:!0,onClick:()=>{var t,n,u,r;e.setSize(i,l,a),"auto"!==(null===(t=e.activePage)||void 0===t?void 0:t.width)&&(null===(n=e.activePage)||void 0===n||n.set({width:i})),"auto"!==(null===(u=e.activePage)||void 0===u?void 0:u.height)&&(null===(r=e.activePage)||void 0===r||r.set({height:l}))},icon:n,alignText:"left"},t,react_1.default.createElement("span",{style:{fontSize:"0.7rem",paddingLeft:"20px",float:"right",lineHeight:"1.1rem"}},i," x ",l," px")))))}));