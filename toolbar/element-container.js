"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ElementContainer=exports.extendToolbar=void 0;const react_1=__importDefault(require("react")),core_1=require("@blueprintjs/core"),popover2_1=require("@blueprintjs/popover2"),styled_1=__importDefault(require("../utils/styled")),Container=(0,styled_1.default)("div",react_1.default.forwardRef)`
  @media screen and (max-width: 500px) {
    width: auto !important;
  }
`,extendToolbar=({type:e,usedItems:t,components:r})=>{const n=[];return Object.keys(r).forEach((r=>{0===r.toLowerCase().indexOf(e)&&(t.includes(r)||n.push(r))})),t.concat(n)};exports.extendToolbar=extendToolbar;const ElementContainer=({items:e,itemRender:t})=>{const[r,n]=react_1.default.useState(0),o=react_1.default.useRef(),a=()=>{if(null===o.current)return;const e=o.current.parentElement;let t=0;[...o.current.parentElement.children].forEach((e=>{e!==o.current&&(t+=e.offsetWidth)})),n(Math.max(20,e.offsetWidth-t-10))};return react_1.default.useLayoutEffect((()=>{a()})),react_1.default.useLayoutEffect((()=>{const e=o.current.parentElement.parentElement;if(window.ResizeObserver){const t=new ResizeObserver(a);return t.observe(e),()=>t.unobserve(e)}{const e=setInterval(a,100);return()=>clearInterval(e)}}),[]),react_1.default.createElement(Container,{style:{width:r+"px"},ref:o,className:"bp4-navbar-group bp4-align-left"},react_1.default.createElement(core_1.OverflowList,{items:e,style:{width:"100%"},visibleItemRenderer:t,collapseFrom:core_1.Boundary.END,overflowRenderer:e=>react_1.default.createElement(popover2_1.Popover2,{content:react_1.default.createElement("div",{style:{padding:"10px",display:"flex"}},e.map(t)),position:core_1.Position.BOTTOM},react_1.default.createElement(core_1.Button,{icon:"more",minimal:!0,style:{marginLeft:"10px"}}))}))};exports.ElementContainer=ElementContainer;